---
layout: page
---
{% capture wherecond %}
item.categories contains "{{ page.category }}"
{% endcapture %}
{% assign articlesUnsorted = site.articles | where_exp:"item", wherecond %} 
{% assign numArticles = articlesUnsorted | size %}
{% if numArticles > 0 %}
{% assign articles = articlesUnsorted | sort:"weighting" %}
<p>
    There {% if numArticles > 1 %}are {{numArticles}} articles {% else %}is 1 article{% endif %}
    in the category "{{ page.category }}"
</p>
<ul class="details">
    {% for p in articles %}
    <li>
        {% if p.feature %}
            <img src="{{ p.feature.image | absolute_url }}" alt="{{ p.feature.caption }}" />
        {% endif %}
        <div>
            <h3><a href="{{ p.url | relative_url }}">{{ p.title }}</a></h3>
            {% assign slug = p.title | slugify %}
            {% assign info = site.data.articles[slug] %}
            {% if info.effects %}
                {% for item in info.effects %}
                    {% assign effect = item[0] %}
                    {% if site.data.ontology[effect] == page.category %}
                        <p>{{ item[1] }}</p>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>There are no articles in the category "{{ page.category }}"</p>
{% endif %}

